apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "disentangle.fullname" . }}-config
  labels:
    {{- include "disentangle.labels" . | nindent 4 }}
data:
  cluster-config.yaml: |
    consensus:
      bootstrap_start: {{ .Values.consensus.bootstrapStart }}
      bootstrap_end: {{ .Values.consensus.bootstrapEnd }}
      confirmation_depth: {{ .Values.consensus.confirmationDepth }}
      curvature_method: {{ .Values.consensus.curvatureMethod }}
      fixed_point_scale: {{ .Values.consensus.fixedPointScale }}

    pow:
      difficulty: {{ .Values.pow.difficulty }}
      mine_interval_secs: {{ .Values.pow.mineIntervalSecs }}

    network:
      node_count: {{ .Values.nodes.count }}
      p2p_port: {{ .Values.nodes.p2pPort }}
      rpc_port: {{ .Values.nodes.rpcPort }}
